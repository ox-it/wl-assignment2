<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
	"http://www.springframework.org/dtd/spring-beans.dtd">

<!-- This file generated by Sakai App Builder -->
<beans>

   
   <bean id="messageRenderer" class="org.sakaiproject.assignment2.tool.beans.Assignments2MessageRenderer">
      <property name="messageLocator">
         <ref bean="messageLocator" />
      </property>
      <property name="infoStyleClass" value="info" />
      <property name="errorStyleClass" value="error" />
   </bean>

   <!-- handles configuration of internationalization messages -->
   <bean id="messageLocator" class="uk.org.ponder.springutil.SpringMessageLocator">
      <property name="messageSource">
         <bean class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
            <property name="basename">
               <value>WEB-INF/bundle/messages</value>
            </property>
            <property name="cacheSeconds">
               <value>10</value>
            </property>
         </bean>
      </property>
      <property name="localeGetter" ref="requestLocaleProxy" />
   </bean>

   <!-- Define the bean roots from the request scope file that are accessible 
    via incoming request URL -->
   <bean parent="requestAddressibleParent">
	  <property name="value" value="Assignment2,Assignment2Bean,AssignmentSubmission,AssignmentSubmissionBean,FilePickerBean"/>
   </bean>

   <!-- Override the default style of user messages -->
   <bean id="messageTemplateContributor" parent="templateContributorParent">
      <property name="baseDirectory" value="component-templates/" />
      <property name="templateNames" value="Messages,Navbar,Pager,SortHeader,AttachmentList,GradebookDetails" />
   </bean>
   
   <!-- The beans listed here are session beans (they stick around) -->
	<bean id="myBeanScope" parent="beanScopeParent">
		<property name="copyPreservingBeans" value="PreviewAssignmentBean,PreviewAssignmentSubmissionBean" />
		<property name="exclusive" value="true" />
	</bean>
	
	<bean id="Assignment2Creator"
		class="org.sakaiproject.assignment2.tool.beans.Assignment2Creator">
		<property name="externalLogic" ref="org.sakaiproject.assignment2.logic.ExternalLogic" />
		<property name="messageLocator" ref="messageLocator" />
	</bean>
   
   <bean id="Assignment2" parent="entityBeanLocatorParent">
      <property name="newMethod" 
      	value="Assignment2Creator.create" />
      <property name="fetchMethod"
      	value="org\.sakaiproject\.assignment2\.logic\.AssignmentLogic.getAssignmentByIdWithAssociatedData" />
      <property name="saveMethod"
        value="org\.sakaiproject\.assignment2\.logic\.AssignmentLogic.saveAssignment" />
      <property name="removeMethod"
        value="org\.sakaiproject\.assignment2\.logic\.AssignmentLogic.deleteAssignment" />
   </bean>
   
   <bean id="AssignmentSubmissionCreator"
   	  class="org.sakaiproject.assignment2.tool.beans.AssignmentSubmissionCreator">
   	  <property name="externalLogic" ref="org.sakaiproject.assignment2.logic.ExternalLogic" />
   </bean>
   
   <bean id="AssignmentSubmission" parent="entityBeanLocatorParent">
      <property name="newMethod"
      	value="AssignmentSubmissionCreator.create" />
      <property name="fetchMethod"
        value="org\.sakaiproject\.assignment2\.logic\.AssignmentSubmissionLogic.getAssignmentSubmissionById" />
      <property name="saveMethod"
      	value="org\.sakaiproject\.assignment2\.logic\.AssignmentSubmissionLogic.saveAssignmentSubmission" />
      <property name="removeMethod"
      	value="org\.sakaiproject\.assignment2\.logic\.AssignmentSubmissionLogic.deleteAssignmentSubmission" />   
   </bean>

  <!-- Use RSF's "BeanGuard" validation scheme to trap all write accesses to a
    Assignment2 entity -->
	<!-- 
  <bean parent="writeGuardParent">
    <property name="guardedPath" value="Assignment2.*" />
    <property name="guardMethod" value="Assignment2Validator.assignment" />
  </bean>
	-->
</beans>